package Oryx::Search::Splitter;

use strict;
use warnings;

our $STOP_WORDS = { };

INIT {
    chomp && $STOP_WORDS->{$_}++ while <DATA>;
}

sub new {
    my ( $class ) = @_;
    return bless { }, $class;
}

sub words {
    my ( $self, $text ) = @_;
    my @words = split( /[^a-zA-Z0-9\xc0-\xff\+\/\_\-]+/, lc $text );
    no warnings 'uninitialized';
    @words = grep {
        !( exists $STOP_WORDS->{$_} )
    } grep {
        s/^[^a-zA-Z0-9\xc0-\xff\_\-]+//; $_
    } grep {
        length > 1
    } grep {
        /[a-zA-Z0-9\xc0-\xff]/
    } @words;

    wantarray ? @words : \@words;
}

sub stop_words { $STOP_WORDS }

1;

__DATA__
i'm
web
don't
i've
we've
they've
she's
he's
it's
great
old
can't
tell
tells
busy
doesn't
you're
your's
didn't
they're
night
nights
anyone
isn't
i'll
actual
actually
presents
presenting
presenter
present
presented
presentation
we're
wouldn't
example
examples
i'd
haven't
etc
won't
myself
we've
they've
aren't
we'd
it'd
ain't
i'll
who've
kind
kinds
builds
build
built
com
make
makes
making
made
you'll
couldn't
use
uses
used
using
take
takes
taking
taken
exactly
we'll
it'll
certainly
he'd
shown
they'd
wasn't
yeah
lya
ability
able
aboard
about
above
absolute
absolutely
across
act
acts
add
additional
additionally
after
afterwards
again
against
ago
ahead
aimless
aimlessly
al
albeit
align
all
allow
almost
along
alongside
already
also
alternate
alternately
although
always
am
amid
amidst
among
amongst
an
and
announce
announced
announcement
announces
another
anti
any
anything
appaling
appalingly
appear
appeared
appears
are
around
as
ask
asked
asking
asks
at
await
awaited
awaits
awaken
awakened
awakens
aware
away
back
backed
backing
backs
be
became
because
become
becomes
becoming
been
before
began
begin
begins
behind
being
believe
believed
between
both
brang
bring
brings
brought
but
by
call
called
calling
calls
can
cannot
carried
carries
carry
carrying
change
changed
changes
choose
chooses
chose
clearly
close
closed
closes
closing
come
comes
coming
consider
considerable
considering
could
couldn
dare
daren
day
days
despite
did
didn
do
does
doesn
doing
done
down
downward
downwards
each
eight
either
else
elsewhere
especially
even
eventually
ever
every
everybody
everyone
far
feel
felt
few
final
finally
find
five
for
found
four
fourth
from
get
gets
getting
gave
give
gives
go
goes
going
gone
good
got
had
has
have
he
held
her
here
heretofore
hereby
herewith
hers
herself
high
him
himself
his
hitherto
happen
happened
happens
hour
hours
how
however
ii
iii
iv
if
in
include
included
includes
including
inside
into
is
isn
it
its
itself
just
la
larger
largest
last
later
latest
le
least
leave
leaves
leaving
les
let
less
like
ll
made
main
mainly
make
makes
man
many
may
me
means
meant
meanwhile
men
might
missed
more
moreover
most
mostly
move
moved
moving
mr
mrs
much
must
mustn
my
need
needs
neither
never
new
newer
news
nine
no
non
none
nor
not
now
of
off
often
on
once
one
only
or
other
our
out
over
own
owns
particularly
per
percent
primarily
put
quickly
remain
remaining
respond
responded
responding
responds
return
ran
rather
run
running
runs
said
say
says
same
see
seek
seeking
seeks
seen
send
sent
set
sets
seven
several
she
should
shouldn
side
since
six
sixes
slow
slowed
slows
small
smaller
so
some
someone
something
somewhat
somewhere
soon
sought
spread
stay
stayed
still
substantially
such
suppose
take
takes
taken
th
than
that
the
their
them
themselves
then
there
thereby
therefore
these
they
thing
things
thi
this
those
though
thus
three
through
throughout
to
together
too
took
toward
towards
tried
tries
try
trying
two
unable
under
underneath
undid
undo
undoes
undone
undue
undoubtedly
unfortunately
unless
unnecessarily
unofficially
until
unusually
unsure
up
upon
upward
us
use
used
uses
using
usual
usually
ve
very
via
view
viewed
wait
waited
waits
want
wanted
wants
was
wasn
watched
watching
way
ways
we
went
were
what
whatever
when
whenever
where
whereever
whether
which
whichever
while
who
whoever
whom
whomsoever
whose
whosever
why
wide
wider
will
with
without
won
would
wouldn
wow
wows
www
xii
xiii
xiv
xv
xvi
xvii
xviii
xix
xx
year
you
your
yours
yourself
yourselves
